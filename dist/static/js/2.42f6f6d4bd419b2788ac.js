webpackJsonp([2],{408:function(t,a,e){e(448);var l=e(146)(e(420),e(437),"data-v-02c6d647",null);t.exports=l.exports},413:function(t,a,e){"use strict";function l(t,a){var e={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),"S+":t.getMilliseconds()};/(y+)/i.test(a)&&(a=a.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var l in e)new RegExp("("+l+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?e[l]:("00"+e[l]).substr((""+e[l]).length)));return a}a.a=l},420:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var l=e(148),r=e.n(l),i=e(413);a.default={data:function(){return{buydata:[],selldata:[],limit:200,marketData:[],price_flag:"",amount_flag:"",total_flag:"",ticker:0,intervalid:""}},computed:{buyData:function(){return this.formatData(this.buydata,1)},sellData:function(){return this.formatData(this.selldata,0)}},beforeDestroy:function(){clearInterval(this.intervalid)},beforeMount:function(){this.timer(),this.getData()},methods:{timer:function(){this.intervalid=setInterval(function(){this.ticker=this.ticker+1,this.ticker>=5&&(this.getData(),this.ticker=0)}.bind(this),1e3)},getData:function(){var t=this,a=this.$route.query.market;null==a&&(a="btccny"),"btccny"==a?(this.price_flag="¥",this.amount_flag="฿",this.total_flag="¥"):"ltccny"==a?(this.price_flag="¥",this.amount_flag="Ł",this.total_flag="¥"):(this.price_flag="฿",this.amount_flag="Ł",this.total_flag="฿");var e="https://data.btcchina.com/data/orderbook?market="+a+"&limit="+this.limit,l="https://data.btcchina.com/data/ticker?market="+a;r.a.get(e).then(function(a){t.buydata=a.data.bids,t.selldata=a.data.asks}),r.a.get(l).then(function(a){var e=[];e[0]=new Object;for(var l in a.data.ticker)e[0][l]=a.data.ticker[l];t.marketData=e})},getData1:function(){this.getData(),this.ticker=0},formatData:function(t,a){var e=[];if(1==a)for(var l=0;l<t.length;l++){var r=new Object;r.id="买("+(l+1)+")",r.price=this.price_flag+t[l][0],r.amount=this.amount_flag+t[l][1],r.sum=this.total_flag+Math.round(t[l][0]*t[l][1]*1e4)/1e4,e[l]=r}else for(var l=t.length;l>=1;l--){var r=new Object;r.id="卖("+(t.length-l+1)+")",r.price=this.price_flag+t[l-1][0],r.amount=this.amount_flag+t[l-1][1],r.sum=this.total_flag+Math.round(t[l-1][0]*t[l-1][1]*1e4)/1e4,e[t.length-l]=r}return e},formatDate:function(t){return e.i(i.a)(new Date(1e3*parseInt(t.date)),"yyyy-MM-dd hh:mm:ss")}},watch:{$route:"getData1"}}},428:function(t,a,e){a=t.exports=e(66)(),a.push([t.i,"",""])},437:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-menu"}),t._v(" 市场")]),t._v(" "),e("el-breadcrumb-item",[t._v("市场深度")]),t._v(" "),e("el-breadcrumb-item",[t._v(t._s(t.$route.query.market))])],1)],1),t._v(" "),e("div",{staticClass:"firstTab"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.marketData,border:""}},[e("el-table-column",{attrs:{prop:"buy",label:"最高出价",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"date",label:"最新更新时间",formatter:t.formatDate,width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"high",label:"近24小时内最高价格",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"last",label:"最新成交价格",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"low",label:"近24小时内最低价格",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"open",label:"今日开盘价",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"prev_close",label:"昨日收盘价",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sell",label:" \t最低要价",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"vol",label:"近24小时内成交数量",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"vwap",label:"近24小时内平均成交价",width:"200"}})],1)],1),t._v(" "),e("br"),t._v(" "),e("p",{staticClass:"ticker"},[t._v("最近更新在 "+t._s(t.ticker)+" 秒前")]),t._v(" "),e("br"),t._v(" "),e("div",{staticClass:"secondTab"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12}},[e("div",{staticClass:"buy"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.buyData,border:"",fit:""}},[e("el-table-column",{attrs:{prop:"id",label:"委买"}}),t._v(" "),e("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),e("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sum",label:"总价"}})],1)],1)]),t._v(" "),e("el-col",{attrs:{span:12}},[e("div",{staticClass:"sell"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.sellData,border:""}},[e("el-table-column",{attrs:{prop:"id",label:"委卖"}}),t._v(" "),e("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),e("el-table-column",{attrs:{prop:"amount",label:"数量"}}),t._v(" "),e("el-table-column",{attrs:{prop:"sum",label:"总价"}})],1)],1)])],1)],1)])},staticRenderFns:[]}},448:function(t,a,e){var l=e(428);"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);e(147)("ae62a23e",l,!0)}});